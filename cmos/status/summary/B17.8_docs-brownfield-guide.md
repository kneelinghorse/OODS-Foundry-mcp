# B17.8: Docs & Brownfield Guide v1

**Status:** ✅ Completed  
**Sprint:** 17  
**Started:** 2025-10-25T18:00:00Z  
**Completed:** 2025-10-25T18:30:00Z  
**Agent:** codex

---

## Objective

Author the Brownfield Adoption Guide v1 to document incremental integration steps for teams adopting traits/objects/tokens, including Figma + Storybook validation flows, CLI recipes, and tenancy/compliance hooks.

---

## Deliverables

### Documentation
- ✅ **docs/adoption/brownfield-guide.md** — Comprehensive 4-phase adoption guide with:
  - Phase 1: Tokens & Theming (1-2 weeks)
  - Phase 2: Components & Contexts (2-4 weeks)
  - Phase 3: Objects & Domain Logic (2-3 weeks)
  - Phase 4: Compliance & Governance (3-4 weeks)
  - Success criteria, rollback procedures, and troubleshooting
  - Reference architecture and migration patterns
- ✅ **docs/adoption/assets/adoption-flow.md** — ASCII flow diagram + metrics dashboard

### CLI Scripts
- ✅ **scripts/adoption/audit.mjs** — Gap analysis tool scanning for:
  - Token coverage (hex literals, semantic usage)
  - Component integration (statusables, contexts)
  - Object definitions and validation
  - Compliance integration (RBAC, audit, tenancy)
  - Generates markdown/JSON reports in `artifacts/adoption/`
- ✅ **scripts/adoption/storybook-checklist.mjs** — Component parity checklist generator
  - Auto-detects existing components
  - Generates phase-specific checklists
  - Includes validation steps (VR, a11y, Storybook)

### Storybook Integration
- ✅ **stories/docs/Brownfield.adoption.mdx** — Interactive adoption deck with:
  - Phase-by-phase visual proofs
  - Brand/theme switcher examples
  - Component migration comparisons
  - Success metrics tracking
  - CLI reference and next steps

### Quickstart Updates
- ✅ **docs/getting-started/design.md** — Added brownfield guide link
- ✅ **docs/getting-started/dev.md** — Added brownfield integration section

### Issue Template
- ✅ **.github/ISSUE_TEMPLATE/adoption-support.yml** — Support request template with:
  - Phase selection dropdown
  - Current state assessment
  - Adoption goals and blockers
  - Audit results upload
  - Urgency level
  - Pre-submission checklist

### Package Scripts
- ✅ **package.json** — Added:
  - `pnpm adoption:audit [--focus=tokens|components|objects|compliance]`
  - `pnpm adoption:storybook-checklist [--phase=1|2|3|4]`

---

## Success Criteria

- ✅ docs/adoption/brownfield-guide.md published with narrative + diagrams, covering Figma, tokens, RBAC, tenancy
- ✅ Checklists + CLI recipes verifying compliance + tenancy toggles in brownfield sample
- ✅ Storybook Explorer note: Brownfield Adoption deck referencing core objects and proofs
- ✅ Updated onboarding quickstarts linking to Brownfield guide
- ✅ Feedback loop established (issue template) for teams to request adoption support

---

## Key Decisions

1. **Four-phase model:** Linear progression (Tokens → Components → Objects → Compliance) with validation gates between phases
2. **CLI-first validation:** Automated gap analysis via `adoption:audit` reduces manual checklist burden
3. **Rollback safety:** Feature flags recommended at each phase for gradual rollout
4. **Storybook as proof hub:** Visual proofs and CLI recipes consolidated in Storybook MDX for discoverability

---

## Artifacts

### Generated Files
- `docs/adoption/brownfield-guide.md` (4,800 lines)
- `docs/adoption/assets/adoption-flow.md`
- `scripts/adoption/audit.mjs` (400 lines)
- `scripts/adoption/storybook-checklist.mjs` (200 lines)
- `stories/docs/Brownfield.adoption.mdx` (400 lines)
- `.github/ISSUE_TEMPLATE/adoption-support.yml`

### CLI Output Examples
- `artifacts/adoption/audit-report.md`
- `artifacts/adoption/audit-report.json`
- `artifacts/adoption/checklist-phase2.md`

---

## Testing

### CLI Scripts
```bash
# Verify audit script runs
pnpm adoption:audit --focus=all --format=markdown

# Verify checklist generator runs
pnpm adoption:storybook-checklist --phase=2

# Confirm executability
ls -l scripts/adoption/*.mjs
```

### Documentation
- ✅ Links validated in brownfield-guide.md
- ✅ Quickstart updates reference new guide
- ✅ Storybook MDX renders without errors

### Issue Template
- ✅ YAML syntax validated
- ✅ Required fields configured
- ✅ Dropdown options populated

---

## Integration Points

### With Sprint 15 (Onboarding)
- Extends 10-minute quickstarts with incremental adoption paths
- Links design/dev quickstarts to brownfield guide

### With Sprint 17 (Compliance Core)
- Phase 4 references RBAC, audit, and tenancy services
- Migration patterns for adding compliance to existing apps

### With Sprint 14 (Guardrails)
- References token governance, VR, and a11y validation flows
- CLI audit checks semantic token usage

---

## Next Steps

1. **Feedback loop:** Monitor adoption support requests via GitHub issues
2. **Iteration:** Update guide based on real-world brownfield adoption experiences
3. **Storybook expansion:** Add interactive demos for each adoption phase
4. **CLI enhancement:** Expand audit script with deeper static analysis

---

## References

- **Mission:** `cmos/missions/sprint-17/B17.8_docs-brownfield-guide.yaml`
- **Direction:** `cmos/docs/OODS Direction-Check-for-sprint-17.md:97-103`
- **Research:**
  - Sprint 15 onboarding quickstarts
  - R10.3 Security & Governance
  - R09.1 Multi-Brand Theming

---

## Changelog

### 2025-10-25 — v1.0.0 (Initial Release)

- Published comprehensive 4-phase brownfield adoption guide
- Delivered CLI audit and checklist generation tools
- Created Storybook MDX adoption deck
- Updated design/dev quickstarts with brownfield links
- Added adoption support issue template
- Registered `pnpm adoption:*` package scripts

---

**Mission Complete:** Sprint 17 brownfield documentation and tooling delivered. Teams can now incrementally adopt OODS Foundry with validated CLI recipes and rollback safety.

