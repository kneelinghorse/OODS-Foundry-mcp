/**
 * Interface definitions for Subscription
 * Canonical subscription record composing lifecycle, billing, and cancellation semantics.
 *
 * DO NOT EDIT - This file is auto-generated by the object type generator.
 * Source: /Users/systemsystems/portfolio/OODS-Foundry/objects/core/Subscription.object.yaml
 * Traits: Stateful, Cancellable, Timestampable, Billable
 */
export interface StateTransition {
  readonly from_state: string;
  readonly to_state: string;
  readonly timestamp: string;
  readonly reason?: string;
  readonly actor_id?: string;
}

export interface Subscription {
  /**
   * Recurring price expressed in minor units (e.g., cents).
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  amount: number;

  /**
   * Recurrence cadence (monthly, yearly, quarterly, etc.).
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  billing_interval?: string;

  /**
   * Whether the subscription will cancel at the natural billing period end.
   *
   * Source: Subscription (object override)
   * Overrides: Cancellable
   */
  cancel_at_period_end: boolean;

  /**
   * Free-form explanation captured during cancellation workflows.
   *
   * Source: Subscription (object override)
   * Overrides: Cancellable
   */
  cancellation_reason?: string;

  /**
   * Structured reason code chosen from the allowedReasons parameter.
   *
   * Source: Cancellable (trait)
   */
  cancellation_reason_code?: string;

  /**
   * Timestamp when cancellation was initiated.
   *
   * Source: Subscription (object override)
   * Overrides: Cancellable
   */
  cancellation_requested_at?: string;

  /**
   * Timestamp recording when the entity was first created.
   *
   * Source: Timestampable (trait)
   */
  created_at: string;

  /**
   * ISO 4217 currency code used for billing.
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  currency: string;

  /**
   * End timestamp of the current billing cycle.
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  current_period_end: string;

  /**
   * Decimal progress (0-1) through the active billing cycle.
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  current_period_progress?: number;

  /**
   * Start timestamp of the current billing cycle.
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  current_period_start: string;

  /**
   * Billing contact email address.
   *
   * Source: Subscription (object override)
   */
  customer_email?: string;

  /**
   * Customer or account name associated with the subscription.
   *
   * Source: Subscription (object override)
   */
  customer_name?: string;

  /**
   * Lifecycle event associated with the most recent timestamp mutation.
   *
   * Source: Timestampable (trait)
   */
  last_event: 'billing_cycle_started' | 'billing_cycle_completed' | 'payment_received' | 'cancellation_requested';

  /**
   * Timestamp for the lifecycle event captured in last_event.
   *
   * Source: Timestampable (trait)
   */
  last_event_at?: string;

  /**
   * Timestamp of the most recent successful payment.
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  last_payment_at?: string;

  /**
   * Timestamp when the next payment attempt should occur.
   *
   * Source: Subscription (object override)
   * Overrides: Billable
   */
  next_payment_due_at?: string;

  /**
   * Internal plan code or price identifier.
   *
   * Source: Subscription (object override)
   */
  plan_code?: string;

  /**
   * Billing interval descriptor (monthly, yearly, etc.).
   *
   * Source: Subscription (object override)
   */
  plan_interval?: string;

  /**
   * Human-readable plan label shown in headers.
   *
   * Source: Subscription (object override)
   */
  plan_name: string;

  /**
   * Chronological log of state transitions.
   *
   * Source: Stateful (trait)
   *
   * Default: []
   */
  state_history?: StateTransition[];

  /**
   * Current lifecycle status of the subscription.
   *
   * Source: Subscription (object override)
   * Overrides: Stateful
   */
  status: 'future' | 'trialing' | 'active' | 'paused' | 'pending_cancellation' | 'delinquent' | 'terminated';

  /**
   * Primary identifier used across billing and lifecycle systems.
   *
   * Source: Subscription (object override)
   */
  subscription_id: string;

  /**
   * Timestamp for the most recent modification, when available.
   *
   * Source: Timestampable (trait)
   */
  updated_at?: string;
}
