/**
 * Interface definitions for Organization
 * Canonical account record for tenant and workspace governance across the platform.
 *
 * DO NOT EDIT - This file is auto-generated by the object type generator.
 * Source: /Users/systemsystems/portfolio/Design-Tools/OODS-Foundry-mcp/objects/core/Organization.object.yaml
 * Traits: Labelled, Stateful, Ownerable, Timestampable, Taggable, Addressable, Preferenceable, Authable, Communicable
 */
export interface StateTransition {
  readonly from_state: string;
  readonly to_state: string;
  readonly timestamp: string;
  readonly reason?: string;
  readonly actor_id?: string;
}

export interface Organization {
  /**
   * Ordered list of roles that currently have address entries.
   *
   * Source: Addressable (trait)
   *
   * Default: []
   */
  address_roles: string[];

  /**
   * Collection of { role, address, metadata } tuples keyed by role.
   *
   * Source: Addressable (trait)
   *
   * Default: []
   */
  addresses?: AddressableEntry[];

  /**
   * Primary contact email for invoicing and finance escalations.
   *
   * Source: Organization (object override)
   */
  billing_contact_email?: string;

  /**
   * Financial standing used by the billing subsystem.
   *
   * Source: Organization (object override)
   *
   * Default: 'good_standing'
   */
  billing_status: 'good_standing' | 'past_due' | 'delinquent' | 'suspended';

  /**
   * Registered delivery channels with provider configuration (email/SMS/push/in_app/webhook).
   *
   * Source: Communicable (trait)
   *
   * Default: []
   */
  channel_catalog: Channel[];

  /**
   * Threaded conversations with participant membership (R20.6 Part 3.3).
   *
   * Source: Communicable (trait)
   *
   * Default: []
   */
  conversations?: Conversation[];

  /**
   * Timestamp recording when the entity was first created.
   *
   * Source: Timestampable (trait)
   */
  created_at: string;

  /**
   * Preferred data residency region selected during onboarding.
   *
   * Source: Organization (object override)
   */
  data_residency?: 'us' | 'eu' | 'apac' | 'latam';

  /**
   * Role surfaced by default UI contexts (list badges, detail callouts).
   *
   * Source: Addressable (trait)
   */
  default_address_role?: 'headquarters' | 'office' | 'warehouse' | 'branch';

  /**
   * Retry/throttling/quiet-hour policies derived from R20.1 Part 3.1 lifecycle.
   *
   * Source: Communicable (trait)
   *
   * Default: []
   */
  delivery_policies: DeliveryPolicy[];

  /**
   * Supporting description used in detail contexts.
   *
   * Source: Labelled (trait)
   */
  description?: string;

  /**
   * Verified root domain associated with the organization.
   *
   * Source: Organization (object override)
   */
  domain: string;

  /**
   * Reported number of active employees.
   *
   * Source: Organization (object override)
   */
  employee_count?: number;

  /**
   * Optional NAICS-derived industry tag.
   *
   * Source: Organization (object override)
   */
  industry?: string;

  /**
   * Human-readable display name rendered in primary surfaces.
   *
   * Source: Labelled (trait)
   */
  label: string;

  /**
   * Lifecycle event associated with the most recent timestamp mutation.
   *
   * Source: Timestampable (trait)
   */
  last_event: 'created' | 'plan_upgraded' | 'plan_downgraded' | 'ownership_transferred';

  /**
   * Timestamp for the lifecycle event captured in last_event.
   *
   * Source: Timestampable (trait)
   */
  last_event_at?: string;

  /**
   * Membership records (user_id, organization_id, role_id) enforcing UNIQUE triples per R21.2 Part 2.2.
   *
   * Source: Authable (trait)
   *
   * Default: []
   */
  membership_records: AuthzMembershipDocument[];

  /**
   * Delivery state machine entries (queued → sent → delivered → failed → retried → read).
   *
   * Source: Communicable (trait)
   *
   * Default: []
   */
  message_statuses?: MessageStatusEntry[];

  /**
   * Atomic messages queued for orchestration (R20.6 Part 1.2).
   *
   * Source: Communicable (trait)
   *
   * Default: []
   */
  messages?: Message[];

  /**
   * Primary identifier for the organization tenant.
   *
   * Source: Organization (object override)
   */
  organization_id: string;

  /**
   * Identifier of the owning principal scoped by owner_type.
   *
   * Source: Ownerable (trait)
   */
  owner_id: string;

  /**
   * Categorical owner type sourced from the ownerTypes parameter.
   *
   * Source: Ownerable (trait)
   */
  owner_type: 'parent_organization' | 'reseller' | 'platform';

  /**
   * Optional role name describing how the owner governs the entity.
   *
   * Source: Ownerable (trait)
   */
  ownership_role?: string;

  /**
   * Timestamp recording when ownership was last transferred.
   *
   * Source: Ownerable (trait)
   */
  ownership_transferred_at?: string;

  /**
   * Atomic operations (resource:action) captured in TABLE 2 of R21.2.
   *
   * Source: Authable (trait)
   *
   * Default: []
   */
  permission_catalog: AuthzPermissionDocument[];

  /**
   * Hint copy surfaced in form fields when empty.
   *
   * Source: Labelled (trait)
   */
  placeholder?: string;

  /**
   * Billing plan currently assigned to the organization.
   *
   * Source: Organization (object override)
   */
  plan_tier: 'free' | 'growth' | 'enterprise';

  /**
   * Normalized preference payload captured by PreferenceStore (version, preferences map, metadata). Stored as JSONB.
   *
   * Source: Preferenceable (trait)
   *
   * Default: {"version":"1.0.0","preferences":{"theme":{"mode":"system"},"notifications":{"mention":{"email":true,"push":true}}},"metadata":{"schemaVersion":"1.0.0","lastUpdated":"2025-11-18T00:00:00Z","source":"system","migrationApplied":[]}}
   */
  preference_document: PreferenceDocument;

  /**
   * Tracks schema version, lastUpdated timestamp, migration records, and source.
   *
   * Source: Preferenceable (trait)
   */
  preference_metadata: PreferenceMetadata;

  /**
   * Monotonic counter incremented whenever preferences mutate (invalidates caches).
   *
   * Source: Preferenceable (trait)
   *
   * Default: 0
   */
  preference_mutations?: number;

  /**
   * Materialized namespace list resolved from parameters/registry for auditing.
   *
   * Source: Preferenceable (trait)
   *
   * Default: ['theme', 'notifications', 'display']
   */
  preference_namespaces: string[];

  /**
   * SemVer mirror of preference_document.version for indexing and analytics.
   *
   * Source: Preferenceable (trait)
   */
  preference_version: string;

  /**
   * Canonical RBAC role entries mirroring R21.2 Part 4.2 TABLE 1. Serves as the "roles" table for the extension pack.
   *
   * Source: Authable (trait)
   *
   * Default: []
   */
  role_catalog: AuthzRoleDocument[];

  /**
   * Adjacency list edges capturing parent→child inheritance (Part 3.1).
   *
   * Source: Authable (trait)
   *
   * Default: []
   */
  role_hierarchy_edges?: AuthzRoleHierarchyEdge[];

  /**
   * Junction mapping from role_id → [permission_id] representing TABLE 3.
   *
   * Source: Authable (trait)
   *
   * Default: {}
   */
  role_permissions: Record<string, string[]>;

  /**
   * Materialized role list for the current request context (used by guardrail middleware).
   *
   * Source: Authable (trait)
   *
   * Default: []
   */
  session_roles?: string[];

  /**
   * Chronological log of state transitions.
   *
   * Source: Stateful (trait)
   *
   * Default: []
   */
  state_history?: StateTransition[];

  /**
   * Canonical lifecycle state derived from the states parameter.
   *
   * Source: Stateful (trait)
   */
  status: 'prospect' | 'onboarding' | 'active' | 'churned';

  /**
   * Computed number of tags assigned to the entity.
   *
   * Source: Taggable (trait)
   *
   * Default: 0
   */
  tag_count: number;

  /**
   * Ordered list of tags assigned to the entity.
   *
   * Source: Taggable (trait)
   *
   * Default: []
   */
  tags?: string[];

  /**
   * Localized message templates with subject/body/variable metadata.
   *
   * Source: Communicable (trait)
   *
   * Default: []
   */
  template_catalog: Template[];

  /**
   * Timestamp for the most recent modification, when available.
   *
   * Source: Timestampable (trait)
   */
  updated_at?: string;

  /**
   * Return Authable roles scoped to the provided organization identifier.
   *
   * Source: Authable (trait helper)
   */
  getRolesInOrg?(organizationId: string): AuthzRoleDocument[];

  /**
   * Check whether the user has a permission (UUID or resource:action) in the specified organization.
   *
   * Source: Authable (trait helper)
   */
  hasPermission?(organizationId: string, permission: string): boolean;

  /**
   * Emit a normalized entitlement export for downstream IAM integrations.
   *
   * Source: Authable (trait helper)
   */
  exportEntitlements?(organizationId: string): { roles: AuthzRoleDocument[]; permissions: AuthzPermissionDocument[] };

  /**
   * Send a message to multiple recipients.
   *
   * Source: Communicable (trait helper)
   */
  sendMessage?(recipientIds: string[], template: any, variables?: Record<string, any>): any;

  /**
   * Mark all messages as read for the current user.
   *
   * Source: Communicable (trait helper)
   */
  markAllAsRead?(): void;

  /**
   * Broadcast a message to all members.
   *
   * Source: Communicable (trait helper)
   */
  broadcastMessage?(template: any, variables?: Record<string, any>): any;

  /**
   * Retrieve delivery policies.
   *
   * Source: Communicable (trait helper)
   */
  getDeliveryPolicies?(): any[];
}
