id: B41.6
sprint_id: Sprint 41
name: Storybook Navigation Cleanup & Viz Sizing Fix
status: Queued

objective: |
  Consolidate Storybook navigation from 16 sections to 10 per the navigation plan,
  and fix viz component sizing regression from commit 12552d3.

context: |
  Navigation audit reveals 6 extra top-level sections that should be consolidated:
  - Components/ → Primitives/
  - Docs/ → Understanding OODS/, Contexts/, etc.
  - Domains/ → Objects/Domain Objects/
  - Foundations/ → Tokens & Theming/
  - Patterns/ → Domain Patterns/
  - Viz/ → Visualization/

  Additionally, 4 viz components (Sunburst, Treemap, Sankey, ForceGraph) have
  broken sizing due to `width: '100%'` container styling.

success_criteria:
  - Storybook shows exactly 10 top-level sections per oods-navigation-implementation-plan.md
  - No stories appear under Components/, Docs/, Domains/, Foundations/, Patterns/, or Viz/
  - All 4 viz components render at correct aspect ratio in Storybook
  - VRT baseline updated if needed

deliverables:
  - Updated story titles in ~20 story files
  - Fixed container styling in 4 viz component files
  - Verification screenshots or VRT passing

reference_docs:
  - cmos/reports/oods-navigation-implementation-plan.md
  - cmos/reports/B40-viz-sizing-blocker.md

tasks:
  - id: nav-components
    description: Update Components/ stories to Primitives/
    files:
      - stories/components/Toast.stories.tsx
      - stories/components/PreferenceForm.stories.tsx

  - id: nav-docs
    description: Update Docs/ stories to proper sections
    files:
      - stories/docs/*.mdx (Context docs, Foundations docs)

  - id: nav-domains
    description: Update Domains/ stories to Objects/Domain Objects/
    files:
      - stories/domains/Billing/Lifecycle.docs.mdx
      - stories/domains/AccountArchetypes.stories.tsx
      - src/stories/subscription-stories/SubscriptionContexts.stories.tsx

  - id: nav-foundations
    description: Update Foundations/ stories to Tokens & Theming/
    files:
      - (identify Tokens Roundtrip story file)

  - id: nav-patterns
    description: Update Patterns/ stories to Domain Patterns/
    files:
      - (identify Page Header story file)

  - id: nav-viz
    description: Update Viz/ stories to Visualization/
    files:
      - src/components/viz/spatial/*.stories.tsx

  - id: viz-sizing
    description: Fix viz container sizing regression
    files:
      - src/components/viz/Sunburst.tsx
      - src/components/viz/Treemap.tsx
      - src/components/viz/Sankey.tsx
      - src/components/viz/ForceGraph.tsx
    fix: Change `style={{ width: '100%', maxWidth: width, height }}` to `style={{ width, height }}`
